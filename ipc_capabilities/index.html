
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://briangu.github.io/klongpy/ipc_capabilities/">
      
      
        <link rel="prev" href="../table_and_key_value_stores/">
      
      
        <link rel="next" href="../web_server/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>IPC Capabilities - KlongPy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inter-process-communication-ipc-capabilities" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="KlongPy" class="md-header__button md-logo" aria-label="KlongPy" data-md-component="logo">
      
  <img src="../assets/images/klongpy_logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KlongPy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IPC Capabilities
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/briangu/klongpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    briangu/klongpy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="KlongPy" class="md-nav__button md-logo" aria-label="KlongPy" data-md-component="logo">
      
  <img src="../assets/images/klongpy_logo.jpg" alt="logo">

    </a>
    KlongPy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/briangu/klongpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    briangu/klongpy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../torch_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PyTorch Backend & Autograd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../repl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    REPL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data & Systems
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data & Systems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fast_columnar_database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fast Columnar Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../table_and_key_value_stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table & Key-Value Store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    IPC Capabilities
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    IPC Capabilities
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-cli-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        The .cli() Function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-clid-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        The .clid() Function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remote-function-proxies-and-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Function Proxies and Enumeration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closing-remote-function-proxies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Closing Remote Function Proxies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#async-function-calls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Async function calls
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Synchronization
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Callbacks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-connection-open-srvo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection open: .srv.o
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-connection-close-srvc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection close: .srv.c
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-connection-error-srve" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection error: .srv.e
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-pub-sub-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building a pub-sub example
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../websockets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WebSockets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Timers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-cli-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        The .cli() Function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-clid-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        The .clid() Function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remote-function-proxies-and-enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Function Proxies and Enumeration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closing-remote-function-proxies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Closing Remote Function Proxies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#async-function-calls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Async function calls
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Synchronization
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Callbacks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client-connection-open-srvo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection open: .srv.o
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-connection-close-srvc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection close: .srv.c
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-connection-error-srve" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client connection error: .srv.e
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-a-pub-sub-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building a pub-sub example
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="inter-process-communication-ipc-capabilities">Inter-Process Communication (IPC) Capabilities<a class="headerlink" href="#inter-process-communication-ipc-capabilities" title="Permanent link">&para;</a></h1>
<p>KlongPy has powerful Inter-Process Communication (IPC) features that enable it to connect and interact with remote KlongPy instances. This includes executing commands, retrieving or storing data, and even defining functions remotely. These new capabilities are available via two new functions: .cli() and .clid().</p>
<h2 id="the-cli-function">The .cli() Function<a class="headerlink" href="#the-cli-function" title="Permanent link">&para;</a></h2>
<p>The .cli() function creates an IPC client. You can pass it either an integer (interpreted as a port on "localhost:<port>"), a string (interpreted as a host address "<host>:<port>"), or a remote dictionary (which shares the network connection and returns a remote function).</p>
<p>Use .cli() to evaluate commands on a remote KlongPy server, define functions, perform calculations, or retrieve values. You can also pass it a symbol to retrieve a value or a function from the remote server.</p>
<p>Start the IPC server:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>kgpy<span class="w"> </span>-s<span class="w"> </span><span class="m">8888</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Welcome<span class="w"> </span>to<span class="w"> </span>KlongPy<span class="w"> </span>REPL<span class="w"> </span>v0.7.0
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>author:<span class="w"> </span>Brian<span class="w"> </span>Guarraci
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>repo<span class="w">  </span>:<span class="w"> </span>https://github.com/briangu/klongpy
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Ctrl-D<span class="w"> </span>or<span class="w"> </span><span class="o">]</span>q<span class="w"> </span>to<span class="w"> </span>quit
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>Running<span class="w"> </span>IPC<span class="w"> </span>server<span class="w"> </span>at<span class="w"> </span><span class="m">8888</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>?&gt;
</code></pre></div>
<p>In a different terminal:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>kgpy
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>?&gt;<span class="w"> </span>f::.cli<span class="o">(</span><span class="m">8888</span><span class="o">)</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>remote<span class="o">[</span>localhost:8888<span class="o">]</span>:fn
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>?&gt;<span class="w"> </span>f<span class="o">(</span><span class="s2">&quot;avg::{(+/x)%#x}&quot;</span><span class="o">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>:monad
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>?&gt;<span class="w"> </span>f<span class="o">(</span><span class="s2">&quot;avg(!100)&quot;</span><span class="o">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="m">49</span>.5
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>?&gt;<span class="w"> </span>:<span class="s2">&quot; Call a remote function and pass a local value (!100) &quot;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>?&gt;<span class="w"> </span>data::!100
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">8</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">23</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">34</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="m">37</span><span class="w"> </span><span class="m">38</span><span class="w"> </span><span class="m">39</span><span class="w"> </span><span class="m">40</span><span class="w"> </span><span class="m">41</span><span class="w"> </span><span class="m">42</span><span class="w"> </span><span class="m">43</span><span class="w"> </span><span class="m">44</span><span class="w"> </span><span class="m">45</span><span class="w"> </span><span class="m">46</span><span class="w"> </span><span class="m">47</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w"> </span><span class="m">48</span><span class="w"> </span><span class="m">49</span><span class="w"> </span><span class="m">50</span><span class="w"> </span><span class="m">51</span><span class="w"> </span><span class="m">52</span><span class="w"> </span><span class="m">53</span><span class="w"> </span><span class="m">54</span><span class="w"> </span><span class="m">55</span><span class="w"> </span><span class="m">56</span><span class="w"> </span><span class="m">57</span><span class="w"> </span><span class="m">58</span><span class="w"> </span><span class="m">59</span><span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="m">61</span><span class="w"> </span><span class="m">62</span><span class="w"> </span><span class="m">63</span><span class="w"> </span><span class="m">64</span><span class="w"> </span><span class="m">65</span><span class="w"> </span><span class="m">66</span><span class="w"> </span><span class="m">67</span><span class="w"> </span><span class="m">68</span><span class="w"> </span><span class="m">69</span><span class="w"> </span><span class="m">70</span><span class="w"> </span><span class="m">71</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w"> </span><span class="m">72</span><span class="w"> </span><span class="m">73</span><span class="w"> </span><span class="m">74</span><span class="w"> </span><span class="m">75</span><span class="w"> </span><span class="m">76</span><span class="w"> </span><span class="m">77</span><span class="w"> </span><span class="m">78</span><span class="w"> </span><span class="m">79</span><span class="w"> </span><span class="m">80</span><span class="w"> </span><span class="m">81</span><span class="w"> </span><span class="m">82</span><span class="w"> </span><span class="m">83</span><span class="w"> </span><span class="m">84</span><span class="w"> </span><span class="m">85</span><span class="w"> </span><span class="m">86</span><span class="w"> </span><span class="m">87</span><span class="w"> </span><span class="m">88</span><span class="w"> </span><span class="m">89</span><span class="w"> </span><span class="m">90</span><span class="w"> </span><span class="m">91</span><span class="w"> </span><span class="m">92</span><span class="w"> </span><span class="m">93</span><span class="w"> </span><span class="m">94</span><span class="w"> </span><span class="m">95</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w"> </span><span class="m">96</span><span class="w"> </span><span class="m">97</span><span class="w"> </span><span class="m">98</span><span class="w"> </span><span class="m">99</span><span class="o">]</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>?&gt;<span class="w"> </span>f<span class="o">(</span>:avg,,data<span class="o">)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="m">49</span>.5
</code></pre></div>
<p>Using remote function proxies, you can reference a remotely defined function and call it as if it were local:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>?&gt; q::f(:avg)
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>remote[localhost:8888]:avg:monad
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>?&gt; q(!100)
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>49.5 
</code></pre></div>
<h2 id="the-clid-function">The .clid() Function<a class="headerlink" href="#the-clid-function" title="Permanent link">&para;</a></h2>
<p>As seen in Python interop examples, the KlongPy context is effectively a dictionary.  The .clid() function creates an IPC client that treats the remote KlongPy context as a dictionary, allowing you to set/get values on the remote instance.  Combined with the remote function capabilities, the remote dictionary makes it easy to interact with remote KlongPy instances.</p>
<p>Here are some examples:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>?&gt; :&quot; Open a remote dictionary using the same connection as f &quot;
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>?&gt; d::.clid(f)
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>remote[localhost:8888]:dict
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>?&gt; :&quot; Add key/value pair :foo -&gt; 2 to remote context &quot;
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>?&gt; d,[:foo 2]
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>?&gt; :&quot; Get the value for :foo key from the remote context &quot;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>?&gt; d?:foo
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>2
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>?&gt; d,[:bar &quot;hello&quot;]
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>?&gt; d?:bar
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>hello
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>?&gt; :&quot; Assign a remote function to :fn &quot;
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>?&gt; d,:fn,{x+1}
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>?&gt; t::d?:fn
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>remote[localhost:8888]:fn:monad
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>?&gt; t(10)
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>11
</code></pre></div>
<p>These powerful capabilities allow for more effective use of distributed computing resources. Please be aware of potential security issues, as you are allowing a remote server to execute potentially arbitrary commands from your client. Always secure your connections and validate your commands to avoid potential attacks.</p>
<h2 id="remote-function-proxies-and-enumeration">Remote Function Proxies and Enumeration<a class="headerlink" href="#remote-function-proxies-and-enumeration" title="Permanent link">&para;</a></h2>
<p>Another powerful feature of KlongPy's IPC capabilities is the use of remote function proxies. These function proxies behave as if they were local functions, but are actually executed on a remote server. You can easily create these function proxies using .cli() or .clid(), and then use them as you would any other function.</p>
<p>One of the most powerful aspects of these remote function proxies is that they can be stored in an array and then enumerated. When you do this, KlongPy will execute each function in turn with the specified parameters.</p>
<p>For example, suppose you have created three remote function proxies:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>?&gt; d::.clid(8888)
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>?&gt; d,:avg,{(+/x)%#x}
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>?&gt; d,:sum,{(+/x)}
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>?&gt; d,:max,{(x@&gt;x)@0}
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>?&gt; a = d?:avg
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>?&gt; b = d?:sum
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>?&gt; c = d?:max
</code></pre></div>
<p>You can then call each of these functions with the same parameter by using enumeration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>?&gt; {x@,!100}&#39;[a b c]
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>[  49.5 4950.    99. ]
</code></pre></div>
<p>In this example, KlongPy will execute each function with the range 0-99 as a parameter, and then store the results in the results array. The :avg function will calculate the average of the numbers, the :sum function will add them up, and the :max function will return the largest number in the range.</p>
<p>This makes it easy to perform multiple operations on the same data set, or to compare the results of different functions. It's another way that KlongPy's IPC capabilities can enhance your data analysis and distributed computing tasks.</p>
<h2 id="closing-remote-function-proxies">Closing Remote Function Proxies<a class="headerlink" href="#closing-remote-function-proxies" title="Permanent link">&para;</a></h2>
<p>Closing remote connections is done with the .clic() command.  Once it is closed, all proxies that shared that connection are now disconnected as well.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>?&gt; f::.cli(8888)
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>?&gt; .clic(f)
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>1
</code></pre></div>
<h2 id="async-function-calls">Async function calls<a class="headerlink" href="#async-function-calls" title="Permanent link">&para;</a></h2>
<p>KlongPy supports async function calls. While it works for local functions, it's primarily for remote functions.</p>
<p>To indicate a function call should be async, the .async() function wraps the function and the supplied callback is called when complete.</p>
<p>Calling an async function results in 1, indicating it was executed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>?&gt; fn::f(:avg)
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>remote[localhost:8888]:avg:monad
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>?&gt; cb::{.d(&quot;remote done: &quot;);.p(x)}
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>:monad
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>?&gt; afn::.async(fn;cb)
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>async:monad
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>?&gt; afn(!100)
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>1
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>?&gt; remote done: 49.5
</code></pre></div>
<p>Note, the result of .async() is a function, so it's possible to reuse these.</p>
<h2 id="synchronization">Synchronization<a class="headerlink" href="#synchronization" title="Permanent link">&para;</a></h2>
<p>While the IPC server I/O is async, the KlongPy interpreter is single-threaded.  All remote operations are synchronous to make it easy to use remote operations as part of a normal workflow.  Of course, when calling over to another KlongPy instance, you have no idea what state that instance is in, but within the calling instance operations will be sequential.</p>
<h2 id="server-callbacks">Server Callbacks<a class="headerlink" href="#server-callbacks" title="Permanent link">&para;</a></h2>
<p>The KlongPy IPC server has 3 connection-related callbacks that can be assigned to pre-defined symbols:</p>
<h3 id="client-connection-open-srvo">Client connection open: <code>.srv.o</code><a class="headerlink" href="#client-connection-open-srvo" title="Permanent link">&para;</a></h3>
<p>Called when a new client connection is established.  The argument passed is the remote connection handle (fn) to the connecting client.  Note, handler functions should not call back to the client when called as it will produce a deadlock - the client is in the process of connecting to the server and not servicing requests.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>.srv.o::{.d(&quot;client has connected: &quot;);.p(x)}
</code></pre></div>
<h3 id="client-connection-close-srvc">Client connection close: <code>.srv.c</code><a class="headerlink" href="#client-connection-close-srvc" title="Permanent link">&para;</a></h3>
<p>Called when a client disconnects or drops the connection due to an error.  The passed argument is the client handle similar to <code>.srv.o</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>.srv.c::{.d(&quot;client has disconnected: &quot;);.p(x)}
</code></pre></div>
<h3 id="client-connection-error-srve">Client connection error: <code>.srv.e</code><a class="headerlink" href="#client-connection-error-srve" title="Permanent link">&para;</a></h3>
<p>Called when there is a client error condition.  Arguments are the client handle and the exception that caused the error.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>.srv.e::{.d(&quot;client has had an error: &quot;);.d(x);.d(&quot; &quot;);.p(y)}
</code></pre></div>
<h2 id="building-a-pub-sub-example">Building a pub-sub example<a class="headerlink" href="#building-a-pub-sub-example" title="Permanent link">&para;</a></h2>
<p>Using the server callbacks, it's easy to set up a pub-sub example where a client connects and then subscribes to a server. Periodically the server will call the update method on the client with new data.</p>
<p>Server:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>:&quot;broadcast fake stock data to all subscribed clients&quot;
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>:&quot; Map of clients handles to their subscribed tickers &quot;
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>clients:::{}
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>:&quot; Called by clients to subscribe to ticker updates &quot;
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>subscribe::{.d(&quot;subscribing client: &quot;);.p(x);clients,.cli.h,,(clients?.cli.h),,x;.p(clients)}
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>:&quot; Periodically called to broadcast updates to all subscribed clients &quot;
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>send::{.d(&quot;sending to client&quot;);.p(x);x(:update,,{x,.rn()*50}&#39;y)}
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>broadcast::{.p(&quot;sending messages to clients&quot;);{send(x@0;x@1)}&#39;clients}
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>cb::{:[(#clients)&gt;0;broadcast();.p(&quot;no clients to broadcast to&quot;)];1}
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>th::.timer(&quot;ticker&quot;;1;cb)
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>:&quot; Setup the IPC server and callbacks &quot;
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>.srv(8888)
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>.srv.o::{.d(&quot;client connected: &quot;);.p(x);clients,x,,[]}
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>.srv.c::{.d(&quot;client disconnected: &quot;);.p(x);x_clients;.d(&quot;clients left: &quot;);.p(#clients)}
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>.srv.e::{.d(&quot;error: &quot;);.p(x);.p(y)}
</code></pre></div>
<p>Client</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>:&quot;Connect to the broadcast server&quot;
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>.p(&quot;connecting to server on port 8888&quot;)
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>cli::.cli(8888)
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>.p(cli)
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>:&quot; Called by server when there is a subscription update.&quot;
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>update::{.d(&quot;subscription update: &quot;);.p(x)}
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>cli(:subscribe,,[&quot;MSFT&quot; &quot;GOOG&quot; &quot;AAPL&quot;])
</code></pre></div>
<p>Running these is easy:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>$<span class="w"> </span>kgpy<span class="w"> </span>examples/ipc/srv_pubsub.kg
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>no<span class="w"> </span>clients<span class="w"> </span>to<span class="w"> </span>broadcast<span class="w"> </span>to
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>no<span class="w"> </span>clients<span class="w"> </span>to<span class="w"> </span>broadcast<span class="w"> </span>to
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>...
</code></pre></div>
<p>One we run the client, the server will begin to send updates to the client:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$<span class="w"> </span>kgpy<span class="w"> </span>examples/ipc/cli_pubsub.kg
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>connecting<span class="w"> </span>to<span class="w"> </span>server<span class="w"> </span>on<span class="w"> </span>port<span class="w"> </span><span class="m">8888</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>remote<span class="o">[</span>localhost:8888<span class="o">]</span>:fn
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>subscription<span class="w"> </span>update:<span class="w"> </span><span class="o">[</span>MSFT<span class="w"> </span><span class="m">16</span>.310530573710896<span class="w"> </span>GOOG<span class="w"> </span><span class="m">27</span>.199690444331594<span class="w"> </span>AAPL<span class="w"> </span><span class="m">35</span>.81725374157503<span class="o">]</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>subscription<span class="w"> </span>update:<span class="w"> </span><span class="o">[</span>MSFT<span class="w"> </span><span class="m">43</span>.28567690091258<span class="w"> </span>GOOG<span class="w"> </span><span class="m">32</span>.06719233158067<span class="w"> </span>AAPL<span class="w"> </span><span class="m">47</span>.306031721530864<span class="o">]</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>